question==>https://www.codechef.com/problems/SPATH3/

solution==>https://www.codechef.com/viewsolution/51484299

tutorial==>https://discuss.codechef.com/t/spath3-editorial/94594

#include<bits/stdc++.h>
#define int unsigned long long int
using namespace std;
int mod=1e18+7;
signed main(){
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);
    int t;
    cin>>t;
    while(t--){
        int n,m,x,y,ans=0;
        //scanf("%d%d%d%d",&n,&m,&x,&y);
        cin>>n>>m>>x>>y;
        if(2*x < y){
            ans = x*(m+n-2);
        }
        else if(2*x >= y){
            if(n==m){
                ans = y*(n-1);
            }
            else if(n<m){
                ans = (y*(n-1))+(x*(m-n));
                if((m-n)%2){
                    ans = min(ans,(y*(n-1)+y*(m-n-1)+x));        //suppose n=3 m=7 or m=6 x=40 y=4 as we know diagonal distance is shortest but we move till n,n so after that we will move up-right then down-right alternatively so that we find the minimum distance if remaining colums is even so we move m-n no of columns if odd no of remaining then we move m-n-1 diagonally and 1 step straight;
                }                                                // try to make matrix and traverse at given example then will get good understanding
                else{
                    ans = min(ans,y*(n-1)+y*(m-n));
                }
            }
            else{
                ans = (y*(m-1))+(x*(n-m));
                if((n-m)%2){
                    ans = min(ans,y*(m-1)+y*(n-m-1)+x);
                }
                else{
                    ans = min(ans,y*(m-1)+y*(n-m));
                }
            }
        }
        cout<<ans%mod<<"\n";
       // printf("%lld",ans);
    }
    return 0;
}
